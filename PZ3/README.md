# ДЗ от 06.11
# Выделение цветового пятна

Команда:
- Смолкина Анастасия Владимировна М3О-414Б-20
- Цатурьян Константин Артурович М3О-414Б-20
- Клочкова Анастасия Михайловна М3О-412Б-20

### Задание
Придумать алгоритм выделения центра лазерного пятна.  
![Текст описания](img_1.jpeg)
  
Программа основана на программе из ПЗ-2, где необходимо было при помощи гистограммы HSV изображения выделить объект на фото и его границы.
В качестве улучшения к предыдущей программе был добавлен блок кода (который можно вынести в отдельный скрипт), который выводит ползунки для настройки границ threshold`a для HSV изображения.
Таким образом, с помощью ползункоd можно получить оптимальное значение, которое будет использовано далее.
  
Изображение до применения маски (все значения по умолчанию):  
![Текст описания](1.jpg)
  
Изображение после применения маски:  
![Текст описания](2.jpg)
  
Таким образом, мы получаем яркое белое пятно, которое и является лазерным пятном. Далее его можно как угодно обрабатывать. Например, применить фильтр Canny или метод вычитания для выделения границ объекта (пятна) из прошлого практического задания. Получив границу (замкнутый контур) можно рассчитать его центр через моменты. Были получены следующие результаты:  
![Текст описания](3.jpg)
  
Можно видеть, что фильтр Canny дает четкие тонкие границы, в то время как метод вычитания дает более толстые границы, но тоже уместен в целях данной задачи.

#### Другой метод
В качетсве метода "не из коробки" я бы предложил следующее: идем по строкам фото (уже после всем операций, кроме нанесения точки центра контурами через моменты), когда находим хотя бы 1 белый пиксель, запоминаем его. Далее по Х, в которой нашли белый пиксель, продолжаем спускаться четко вниз, пока не найдем белый пиксель и он не обратится в черный (переход через границу). Запоминаем. Итог - мы знаем верхнюю и нижнюю границу пятна. Чтобы найти точный его центр, относительно центра по Y надо взять точку и пойти от нее влева и вправо, пока мы также не найдем белые пиксели, которые обратятся в черные, запоминаем и эти точки. Итог - получаем левую, верхнюю, правую и нижнюю точки пятна. Таким образом, из них можно достаточно точно найти центр.
